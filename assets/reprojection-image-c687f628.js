import{d as o,g as d,a as h,b as E,I as p,E as x,i as f,p as g,r as w,M as I,V as _,t as L,c as S}from"./proj4-75e1e0c4.js";/* empty css           */import{T as O,O as y}from"./Tile-70950ba0.js";import{I as G,d as j}from"./Image-dc01ef9b.js";import{I as v}from"./Image-df45c9f2.js";function b(t){const e=t.load||o,n=t.imageExtent,r=new Image;return t.crossOrigin!==null&&(r.crossOrigin=t.crossOrigin),()=>e(r,t.url).then(i=>{const a=d(n)/i.width,s=h(n)/i.height;return{image:i,extent:n,resolution:a!==s?[a,s]:s,pixelRatio:1}})}class k extends G{constructor(e){const n=e.crossOrigin!==void 0?e.crossOrigin:null,r=e.imageLoadFunction!==void 0?e.imageLoadFunction:j;super({attributions:e.attributions,interpolate:e.interpolate,projection:E(e.projection)}),this.url_=e.url,this.imageExtent_=e.imageExtent,this.image=null,this.image=new p(this.imageExtent_,void 0,1,b({url:e.url,imageExtent:e.imageExtent,crossOrigin:n,load:(i,a)=>(this.image.setImage(i),r(this.image,a),o(i))})),this.image.addEventListener(x.CHANGE,this.handleImageChange.bind(this))}getImageExtent(){return this.imageExtent_}getImageInternal(e,n,r,i){return f(e,this.image.getExtent())?this.image:null}getUrl(){return this.url_}}const F=k;g.defs("EPSG:27700","+proj=tmerc +lat_0=49 +lon_0=-2 +k=0.9996012717 +x_0=400000 +y_0=-100000 +ellps=airy +towgs84=446.448,-125.157,542.06,0.15,0.247,0.842,-20.489 +units=m +no_defs");w(g);const c=[0,0,7e5,13e5],m=new v;new I({layers:[new O({source:new y}),m],target:"map",view:new _({center:L(S(c),"EPSG:27700","EPSG:3857"),zoom:4})});const u=document.getElementById("interpolate");function l(){const t=new F({url:"https://upload.wikimedia.org/wikipedia/commons/thumb/1/18/British_National_Grid.svg/2000px-British_National_Grid.svg.png",crossOrigin:"",projection:"EPSG:27700",imageExtent:c,interpolate:u.checked});m.setSource(t)}l();u.addEventListener("change",l);
//# sourceMappingURL=reprojection-image-c687f628.js.map
